[gd_scene load_steps=11 format=3 uid="uid://gd30adgxjhcg"]

[ext_resource type="Texture2D" uid="uid://xqouxjle2axk" path="res://models/character1.png" id="1_3vyb7"]
[ext_resource type="Script" uid="uid://bdocnqt2tw4ae" path="res://scripts/player/Player.cs" id="1_qhqgy"]
[ext_resource type="Script" uid="uid://jsrsry5y1yd2" path="res://scripts/player/PHSM/state_machines/PlayerMovementFSM.cs" id="4_qlg0r"]
[ext_resource type="Script" uid="uid://m64hs37j3gvb" path="res://scripts/player/PHSM/states/PlayerIdleState.cs" id="5_fjrip"]
[ext_resource type="Script" uid="uid://cedae2qrvkmsp" path="res://scripts/player/PHSM/states/PlayerFlyState.cs" id="6_smehm"]
[ext_resource type="Script" uid="uid://ras3a1x2gfm3" path="res://scripts/player/PHSM/transitions/PlayerTransitionGuard.cs" id="6_y4r1p"]
[ext_resource type="Script" uid="uid://b1u5a6s6x5oqn" path="res://scripts/player/PHSM/guards/PlayerIdleToFlyGuard.cs" id="7_d2wvv"]
[ext_resource type="Script" uid="uid://dfjjwjtpbbdf0" path="res://scripts/player/PHSM/guards/PlayerFlyToIdleGuard.cs" id="9_3v2ag"]
[ext_resource type="Script" uid="uid://cog5whlwyvkgg" path="res://scripts/player/PHSM/PlayerPHSM.cs" id="12_3v2ag"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_3vyb7"]
size = Vector2(49, 53)

[node name="player" type="CharacterBody2D"]
script = ExtResource("1_qhqgy")
accelerationMove = 300.0
maxSpeedMove = 100.0
decelerationMove = 300.0
minSpeedMove = 9.0

[node name="Sprite2D" type="Sprite2D" parent="."]
rotation = 1.5708
scale = Vector2(0.3, 0.3)
texture = ExtResource("1_3vyb7")

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(13, 0)
shape = SubResource("RectangleShape2D_3vyb7")

[node name="Camera2D" type="Camera2D" parent="."]

[node name="PlayerPHSM" type="Node" parent="."]
script = ExtResource("12_3v2ag")
metadata/_custom_type_script = "uid://cog5whlwyvkgg"

[node name="PlayerMovementFSM" type="Node" parent="PlayerPHSM" node_paths=PackedStringArray("initialState")]
script = ExtResource("4_qlg0r")
initialState = NodePath("PlayerIdleState")
metadata/_custom_type_script = "uid://jsrsry5y1yd2"

[node name="PlayerIdleState" type="Node" parent="PlayerPHSM/PlayerMovementFSM"]
script = ExtResource("5_fjrip")
name = "idle"
metadata/_custom_type_script = "uid://m64hs37j3gvb"

[node name="ToFly" type="Node" parent="PlayerPHSM/PlayerMovementFSM/PlayerIdleState" node_paths=PackedStringArray("transitionTo")]
script = ExtResource("6_y4r1p")
transitionTo = NodePath("../../PlayerFlyState")
metadata/_custom_type_script = "uid://ras3a1x2gfm3"

[node name="PlayerIdleToFlyGuard" type="Node" parent="PlayerPHSM/PlayerMovementFSM/PlayerIdleState/ToFly"]
script = ExtResource("7_d2wvv")
metadata/_custom_type_script = "uid://b1u5a6s6x5oqn"

[node name="PlayerFlyState" type="Node" parent="PlayerPHSM/PlayerMovementFSM"]
script = ExtResource("6_smehm")
name = "fly"
metadata/_custom_type_script = "uid://cedae2qrvkmsp"

[node name="ToIdle" type="Node" parent="PlayerPHSM/PlayerMovementFSM/PlayerFlyState" node_paths=PackedStringArray("transitionTo")]
script = ExtResource("6_y4r1p")
transitionTo = NodePath("../../PlayerIdleState")
metadata/_custom_type_script = "uid://ras3a1x2gfm3"

[node name="PlayerFlyToIdleGuard" type="Node" parent="PlayerPHSM/PlayerMovementFSM/PlayerFlyState/ToIdle"]
script = ExtResource("9_3v2ag")
metadata/_custom_type_script = "uid://dfjjwjtpbbdf0"
